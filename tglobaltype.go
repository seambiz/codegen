package codegen

// TGlobalType template
func TGlobalType(bb *GenBuffer, conf *Config) {

	bb.S("// GENERATED BY CODEGEN. DO NOT EDIT.")
	bb.NewLine()
	bb.NewLine()
	bb.Line("// Constants for table columns.")
	bb.Line("const (")
	iotaSet := false
	for _, s := range conf.Schemas {
		for _, t := range s.Tables {
			if !t.Generate {
				continue
			}
			bb.Line(`// Columns for table `, s.Name, ".", t.Title)
			for _, f := range t.Fields {
				if !iotaSet {
					bb.Line(t.Title + f.Title + " = iota")
					iotaSet = true
				} else {
					bb.Line(t.Title + f.Title)
				}
			}
		}
	}
	bb.Line(")")
	bb.NewLine()

	bb.NewLine()
	bb.S("// ^^ END OF GENERATED BY CODEGEN. DO NOT EDIT. ^^")
	bb.NewLine()
}
